/*
 * button.c
 *
 *  Created on: Oct 11, 2022
 *      Author: Hong Phat
 */


void getKeyInput(){
	KeyReg2= KeyReg1;
	KeyReg1 = KeyReg0;
	KeyReg0 = HAL_GPIO_ReadPin(Button1_GPIO_Port,Button1_Pin);
	if((KeyReg1==KeyReg0) && (KeyReg1==KeyReg2)){
		if(KeyReg2 != KeyReg3){
			KeyReg3 = KeyReg2;

			if(KeyReg3 == PRESSED_STATE){
				TimeOutForKeyPress = 500;
				subKeyProcess();
			}
		}else{
			TimeOutForKeyPress--;
			if(TimeOutForKeyPress==0){
				KeyReg3 = NORMAL_STATE;
			}
		}
	}
}
